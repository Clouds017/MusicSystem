{"remainingRequest":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\MusicSystem\\src\\music-client\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\MusicSystem\\src\\music-client\\src\\components\\PlayBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\MusicSystem\\src\\music-client\\src\\components\\PlayBar.vue","mtime":1678901194898},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\MusicSystem\\src\\music-client\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678981922231},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\MusicSystem\\src\\music-client\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1678981923193}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge21hcEdldHRlcnN9IGZyb20gJ3Z1ZXgnOw0KaW1wb3J0IHsgZG93bmxvYWQsc2V0Q29sbGVjdCxnZXRDb2xsZWN0T2ZVc2VySWQgfSBmcm9tICcuLi9hcGkvaW5kZXgnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogJ3BsYXktYmFyJywNCiAgICBkYXRhKCl7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBub3dUaW1lOiAnMDA6MDAnLCAgICAgICAgLy/lvZPliY3mkq3mlL7ov5vluqbnmoTml7bpl7QNCiAgICAgICAgICAgIHNvbmdUaW1lOiAnMDA6MDAnLCAgICAgICAgLy/lvZPliY3mrYzmm7LmgLvml7bpl7QNCiAgICAgICAgICAgIGN1ckxlbmd0aDogMCwgICAgICAgICAgICAvL+i/m+W6puadoeeahOS9jee9rg0KICAgICAgICAgICAgcHJvZ3Jlc3NMZW5ndGg6IDAsICAgICAgLy/ov5vluqbmnaHnmoTmgLvplb/luqYNCiAgICAgICAgICAgIG1vdXNlU3RhcnRYOiAgICAwLCAgICAgIC8v5ouW5ou95byA5aeL5L2N572uDQogICAgICAgICAgICB0YWc6IGZhbHNlLCAgICAgICAgICAgICAvL+aLluaLveW8gOWni+e7k+adn+eahOagh+W/l++8jOW9k+W8gOWni+aLluaLve+8jOWug+eahOWAvOaJjeS8muWPmOaIkHRydWUNCiAgICAgICAgICAgIHZvbHVtZTogNTAsICAgICAgICAgICAgIC8v6Z+z6YeP77yM6buY6K6k5LiA5Y2KDQogICAgICAgICAgICB0b2dnbGU6IHRydWUgICAgICAgICAgICAvL+aYvuekuumakOiXj+aSreaUvuWZqOmhtemdog0KICAgICAgICB9DQogICAgfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgICAuLi5tYXBHZXR0ZXJzKFsNCiAgICAgICAgICAgICdpZCcsICAgICAgICAgICAgICAgLy/mrYzmm7JpZA0KICAgICAgICAgICAgJ3VybCcsICAgICAgICAgICAgICAvL+atjOabsuWcsOWdgA0KICAgICAgICAgICAgJ2lzUGxheScsICAgICAgICAgICAvL+aSreaUvueKtuaAgQ0KICAgICAgICAgICAgJ3BsYXlCdXR0b25VcmwnLCAgIC8v5pKt5pS+54q25oCB55qE5Zu+5qCHDQogICAgICAgICAgICAncGljVXJsJywgICAgICAgICAgICAvL+ato+WcqOaSreaUvueahOmfs+S5kOeahOWbvueJhw0KICAgICAgICAgICAgJ3RpdGxlJywgICAgICAgICAgICAgICAgICAvL+atjOWQjQ0KICAgICAgICAgICAgJ2FydGlzdCcsICAgICAgICAgICAgICAgICAvL+atjOaJi+WQjQ0KICAgICAgICAgICAgJ2R1cmF0aW9uJywgICAgICAgICAgICAgICAgLy/pn7PkuZDml7bplb8NCiAgICAgICAgICAgICdjdXJUaW1lJywgICAgICAgICAgICAgICAgLy/lvZPliY3pn7PkuZDnmoTmkq3mlL7kvY3nva4NCiAgICAgICAgICAgICdzaG93QXNpZGUnLCAgICAgICAgICAgIC8v5piv5ZCm5pi+56S65pKt5pS+5Lit55qE5q2M5puy5YiX6KGoDQogICAgICAgICAgICAnbGlzdEluZGV4JywgICAgICAgICAgICAvL+W9k+WJjeatjOabsuWcqOatjOWNleS4reeahOS9jee9rg0KICAgICAgICAgICAgJ2xpc3RPZlNvbmdzJywgICAgICAgICAgLy/lvZPliY3mrYzljZXliJfooagNCiAgICAgICAgICAgICdhdXRvTmV4dCcsICAgICAgICAgICAgIC8v6Ieq5Yqo5pKt5pS+5LiL5LiA6aaWDQogICAgICAgICAgICAnbG9naW5JbicsICAgICAgICAgICAgICAvL+eUqOaIt+aYr+WQpuW3sueZu+W9lQ0KICAgICAgICAgICAgJ3VzZXJJZCcsICAgICAgICAgICAgICAgLy/lvZPliY3nmbvlvZXnlKjmiLfnmoRpZA0KICAgICAgICAgICAgJ2lzQWN0aXZlJywgICAgICAgICAgICAgLy/lvZPliY3mkq3mlL7nmoTmrYzmm7LmmK/lkKblt7LmlLbol48NCiAgICAgICAgXSkNCiAgICB9LA0KICAgIHdhdGNoOnsNCiAgICAgICAgLy/liIfmjaLmkq3mlL7nirbmgIHnmoTlm77moIcNCiAgICAgICAgaXNQbGF5KCkgew0KICAgICAgICAgICAgIGlmKHRoaXMuaXNQbGF5KXsNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFBsYXlCdXR0b25VcmwnLCAnI2ljb24temFudGluZycpOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRQbGF5QnV0dG9uVXJsJywgJyNpY29uLWJvZmFuZycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBjdXJUaW1lKCl7DQogICAgICAgICAgICB0aGlzLm5vd1RpbWUgPSB0aGlzLmZvcm1hdFNlY29uZHModGhpcy5jdXJUaW1lKTsNCiAgICAgICAgICAgIHRoaXMuc29uZ1RpbWUgPSB0aGlzLmZvcm1hdFNlY29uZHModGhpcy5kdXJhdGlvbik7DQogICAgICAgICAgICB0aGlzLmN1ckxlbmd0aCA9ICh0aGlzLmN1clRpbWUgLyB0aGlzLmR1cmF0aW9uKSAqMTAwOw0KICAgICAgICB9LA0KICAgICAgICAvL+mfs+mHj+WPmOWMlg0KICAgICAgICB2b2x1bWUoKXsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Vm9sdW1lJyx0aGlzLnZvbHVtZSAvIDEwMCk7DQogICAgICAgIH0sDQogICAgICAgIC8v6Ieq5Yqo5pKt5pS+5LiL5LiA6aaWDQogICAgICAgIGF1dG9OZXh0KCl7DQogICAgICAgICAgICB0aGlzLm5leHQoKTsNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbW91bnRlZCgpew0KICAgICAgICB0aGlzLnByb2dyZXNzTGVuZ3RoID0gdGhpcy4kcmVmcy5wcm9ncmVzcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDsNCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLml0ZW0tdm9sdW1lJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKGUpew0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZvbHVtZScpLmNsYXNzTGlzdC5hZGQoJ3Nob3ctdm9sdW1lJyk7DQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOw0KICAgICAgICB9LGZhbHNlKTsNCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZvbHVtZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbihlKXsNCiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICAgIH0sZmFsc2UpOw0KICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52b2x1bWUnKS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LXZvbHVtZScpOw0KICAgICAgICB9LGZhbHNlKTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgLy/mj5DnpLrkv6Hmga8NCiAgICAgICAgbm90aWZ5KHRpdGxlLHR5cGUpIHsNCiAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7DQogICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLA0KICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8v5o6n5Yi26Z+z5LmQ5pKt5pS+44CB5pqC5YGcDQogICAgICAgIHRvZ2dsZVBsYXkoKSB7DQogICAgICAgICAgICBpZih0aGlzLmlzUGxheSl7DQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJc1BsYXknLCBmYWxzZSk7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldElzUGxheScsIHRydWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL+ino+aekOaXtumXtA0KICAgICAgICBmb3JtYXRTZWNvbmRzKHZhbHVlKXsNCiAgICAgICAgICAgIGxldCB0aGVUaW1lID0gcGFyc2VJbnQodmFsdWUpOw0KICAgICAgICAgICAgbGV0IHJlc3VsdCA9ICcnOyAgICAvL+i/lOWbnuWAvA0KICAgICAgICAgICAgbGV0IGhvdXIgPSBwYXJzZUludCh0aGVUaW1lIC8gMzYwMCk7ICAgIC8v5bCP5pe2DQogICAgICAgICAgICBsZXQgbWludXRlID0gcGFyc2VJbnQoKHRoZVRpbWUgLyA2MCkgJSA2MCk7IC8v5YiG6ZKfDQogICAgICAgICAgICBsZXQgc2Vjb25kID0gcGFyc2VJbnQodGhlVGltZSAlIDYwKTsgICAgICAgIC8v56eSDQogICAgICAgICAgICBpZihob3VyID4gMCl7DQogICAgICAgICAgICAgICAgaWYoaG91ciA8IDEwKXsNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gJzAnICsgaG91ciArICI6IjsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gaG91ciArICI6IjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihtaW51dGUgPiAwKXsNCiAgICAgICAgICAgICAgICBpZihtaW51dGUgPCAxMCl7DQogICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAiMCIgKyBtaW51dGUgKyAiOiI7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBtaW51dGUgKyAiOiI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgcmVzdWx0ICs9ICIwMDoiOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoc2Vjb25kID4gMCl7DQogICAgICAgICAgICAgICAgaWYoc2Vjb25kIDwgMTApew0KICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gIjAiICsgc2Vjb25kOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gc2Vjb25kOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHJlc3VsdCArPSAiMDAiOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfSwNCiAgICAgICAgLy/mi5bmi73lvIDlp4sNCiAgICAgICAgbW91c2Vkb3duKGUpew0KICAgICAgICAgICAgdGhpcy5tb3VzZVN0YXJ0WCA9IGUuY2xpZW50WDsNCiAgICAgICAgICAgIHRoaXMudGFnID0gdHJ1ZTsNCiAgICAgICAgfSwNCiAgICAgICAgLy/mi5bmi73nu5PmnZ8NCiAgICAgICAgbW91c2V1cCgpew0KICAgICAgICAgICAgdGhpcy50YWcgPSBmYWxzZTsNCiAgICAgICAgfSwNCiAgICAgICAgLy/mi5bmi73kuK0NCiAgICAgICAgbW91c2Vtb3ZlKGUpew0KICAgICAgICAgICAgaWYoIXRoaXMuZHVyYXRpb24pew0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKHRoaXMudGFnKXsNCiAgICAgICAgICAgICAgICBsZXQgbW92ZW1lbnRYID0gZS5jbGllbnRYIC0gdGhpcy5tb3VzZVN0YXJ0WDsgICAgICAgLy/ngrnngrnnp7vliqjnmoTot53nprsNCiAgICAgICAgICAgICAgICBsZXQgY3VyTGVuZ3RoID0gdGhpcy4kcmVmcy5jdXJQcm9ncmVzcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDsNCiAgICAgICAgICAgICAgICBsZXQgbmV3UGVyY2VudCA9ICgobW92ZW1lbnRYK2N1ckxlbmd0aCkvdGhpcy5wcm9ncmVzc0xlbmd0aCkqMTAwOw0KICAgICAgICAgICAgICAgIGlmKG5ld1BlcmNlbnQ+MTAwKXsNCiAgICAgICAgICAgICAgICAgICAgbmV3UGVyY2VudCA9IDEwMDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5jdXJMZW5ndGggPSBuZXdQZXJjZW50Ow0KICAgICAgICAgICAgICAgIHRoaXMubW91c2VTdGFydFggPSBlLmNsaWVudFg7DQogICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VUaW1lKG5ld1BlcmNlbnQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL+abtOaUueatjOabsui/m+W6pg0KICAgICAgICBjaGFuZ2VUaW1lKHBlcmNlbnQpew0KICAgICAgICAgICAgbGV0IG5ld0N1clRpbWUgPSAocGVyY2VudCowLjAxKSogdGhpcy5kdXJhdGlvbjsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q2hhbmdlVGltZScsbmV3Q3VyVGltZSk7DQogICAgICAgIH0sDQogICAgICAgIC8v54K55Ye75pKt5pS+5p2h5YiH5o2i5pKt5pS+6L+b5bqmDQogICAgICAgIHVwZGF0ZW1vdmUoZSl7DQogICAgICAgICAgICBpZighdGhpcy50YWcpew0KICAgICAgICAgICAgICAgIC8v6L+b5bqm5p2h55qE5bem5L6n5Z2Q5qCHDQogICAgICAgICAgICAgICAgbGV0IGN1ckxlbmd0aCA9IHRoaXMuJHJlZnMuYmcub2Zmc2V0TGVmdDsNCiAgICAgICAgICAgICAgICBsZXQgbmV3UGVyY2VudCA9ICgoZS5jbGllbnRYIC0gY3VyTGVuZ3RoKSAvIHRoaXMucHJvZ3Jlc3NMZW5ndGgpICogMTAwOw0KICAgICAgICAgICAgICAgIGlmKG5ld1BlcmNlbnQ+MTAwKXsNCiAgICAgICAgICAgICAgICAgICAgbmV3UGVyY2VudCA9IDEwMDsNCiAgICAgICAgICAgICAgICB9ZWxzZSBpZihuZXdQZXJjZW50PDApew0KICAgICAgICAgICAgICAgICAgICBuZXdQZXJjZW50ID0gMDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5jdXJMZW5ndGggPSBuZXdQZXJjZW50Ow0KICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlVGltZShuZXdQZXJjZW50KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy/mmL7npLrmkq3mlL7kuK3nmoTmrYzmm7LliJfooagNCiAgICAgICAgY2hhbmdlQXNpZGUoKXsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0U2hvd0FzaWRlJyx0cnVlKTsNCiAgICAgICAgfSwNCiAgICAgICAgLy/kuIrkuIDpppYNCiAgICAgICAgcHJldigpew0KICAgICAgICAgICAgaWYodGhpcy5saXN0SW5kZXggIT0gLTEgJiYgdGhpcy5saXN0T2ZTb25ncy5sZW5ndGggPiAxKXsgICAgLy/lvZPliY3lpITkuo7kuI3lj6/og73nirbmgIHmiJbogIXlj6rmnInlj6rmnInkuIDpppbpn7PkuZDnmoTml7blgJnkuI3miafooYzvvIkNCiAgICAgICAgICAgICAgICBpZih0aGlzLmxpc3RJbmRleCA+IDApeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5LiN5piv56ys5LiA6aaW6Z+z5LmQDQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0TGlzdEluZGV4Jyx0aGlzLmxpc3RJbmRleCAtIDEpOyAgLy/nm7TmjqXov5Tlm57kuIrkuIDpppYNCiAgICAgICAgICAgICAgICB9ZWxzZXsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5b2T5YmN5piv56ys5LiA6aaW6Z+z5LmQDQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0TGlzdEluZGV4Jyx0aGlzLmxpc3RPZlNvbmdzLmxlbmd0aCAtIDEpOyAgLy/liIfmjaLliLDlgJLmlbDnrKzkuIDpppYNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy50b3BsYXkodGhpcy5saXN0T2ZTb25nc1t0aGlzLmxpc3RJbmRleF0udXJsKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy/kuIvkuIDpppYNCiAgICAgICAgbmV4dCgpew0KICAgICAgICAgICAgaWYodGhpcy5saXN0SW5kZXggIT0gLTEgJiYgdGhpcy5saXN0T2ZTb25ncy5sZW5ndGggPiAxKXsgICAgLy/lvZPliY3lpITkuo7kuI3lj6/og73nirbmgIHmiJbogIXlj6rmnInlj6rmnInkuIDpppbpn7PkuZDnmoTml7blgJnkuI3miafooYzvvIkNCiAgICAgICAgICAgICAgICBpZih0aGlzLmxpc3RJbmRleCA8IHRoaXMubGlzdE9mU29uZ3MubGVuZ3RoIC0gMSl7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/kuI3mmK/mnIDlkI7kuIDpppbpn7PkuZANCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRMaXN0SW5kZXgnLHRoaXMubGlzdEluZGV4ICsgMSk7ICAvL+ebtOaOpei/lOWbnuS4i+S4gOmmlg0KICAgICAgICAgICAgICAgIH1lbHNleyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5b2T5YmN5piv5pyA5ZCO5LiA6aaW6Z+z5LmQDQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0TGlzdEluZGV4JywwKTsgIC8v5YiH5o2i5Yiw56ys5LiA6aaWDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMudG9wbGF5KHRoaXMubGlzdE9mU29uZ3NbdGhpcy5saXN0SW5kZXhdLnVybCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8v5pKt5pS+6Z+z5LmQDQogICAgICAgIHRvcGxheTogZnVuY3Rpb24odXJsKXsNCiAgICAgICAgICAgIGlmKHVybCAmJiB1cmwgIT0gdGhpcy51cmwpew0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SWQnLHRoaXMubGlzdE9mU29uZ3NbdGhpcy5saXN0SW5kZXhdLmlkKTsNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFVybCcsdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlndXJlLkhPU1QrdXJsKTsNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFBpY1VybCcsdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlndXJlLkhPU1QrdGhpcy5saXN0T2ZTb25nc1t0aGlzLmxpc3RJbmRleF0ucGljKTsNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFRpdGxlJyx0aGlzLnJlcGxhY2VGTmFtZSh0aGlzLmxpc3RPZlNvbmdzW3RoaXMubGlzdEluZGV4XS5uYW1lKSk7DQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRBcnRpc3QnLHRoaXMucmVwbGFjZUxOYW1lKHRoaXMubGlzdE9mU29uZ3NbdGhpcy5saXN0SW5kZXhdLm5hbWUpKTsNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEx5cmljJyx0aGlzLnBhcnNlTHlyaWModGhpcy5saXN0T2ZTb25nc1t0aGlzLmxpc3RJbmRleF0ubHlyaWMpKTsNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldElzQWN0aXZlJyxmYWxzZSk7DQogICAgICAgICAgICAgICAgaWYodGhpcy5sb2dpbkluKXsNCiAgICAgICAgICAgICAgICAgICAgZ2V0Q29sbGVjdE9mVXNlcklkKHRoaXMudXNlcklkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+ew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiByZXMpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLnNvbmdJZCA9PSBpZCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldElzQWN0aXZlJyx0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgICAvL+iOt+WPluWQjeWtl+WJjeWNiumDqOWIhi0t5q2M5omL5ZCNDQogICAgICAgIHJlcGxhY2VMTmFtZShzdHIpew0KICAgICAgICAgICAgbGV0IGFyciA9IHN0ci5zcGxpdCgnLScpOw0KICAgICAgICAgICAgcmV0dXJuIGFyclswXTsNCiAgICAgICAgfSwNCiAgICAgICAgLy/ojrflj5blkI3lrZflkI7ljYrpg6jliIYtLeatjOWQjQ0KICAgICAgICByZXBsYWNlRk5hbWUoc3RyKXsNCiAgICAgICAgICAgIGxldCBhcnIgPSBzdHIuc3BsaXQoJy0nKTsNCiAgICAgICAgICAgIHJldHVybiBhcnJbMV07DQogICAgICAgIH0sDQogICAgICAgIC8v6Kej5p6Q5q2M6K+NDQogICAgICAgIHBhcnNlTHlyaWModGV4dCl7DQogICAgICAgICAgICBsZXQgbGluZXMgPSB0ZXh0LnNwbGl0KCJcbiIpOyAgICAgICAgICAgICAgICAgICAvL+WwhuatjOivjeaMieihjOWIhuino+aIkOaVsOe7hA0KICAgICAgICAgICAgbGV0IHBhdHRlcm4gPSAvXFtcZHsyfTpcZHsyfS4oXGR7M318XGR7Mn0pXF0vZzsgLy/ml7bpl7TmoLzlvI/nmoTmraPliJnooajovr7lvI8NCiAgICAgICAgICAgIGxldCByZXN1bHQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6L+U5Zue5YC8DQogICAgICAgICAgICAvL+WvueS6juatjOivjeagvOW8j+S4jeWvueeahOebtOaOpei/lOWbng0KICAgICAgICAgICAgaWYoISgvXFsuK1xdLy50ZXN0KHRleHQpKSl7DQogICAgICAgICAgICAgICAgcmV0dXJuIFtbMCx0ZXh0XV0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8v5Y675o6J5YmN6Z2i5qC85byP5LiN5q2j56Gu55qE6KGMDQogICAgICAgICAgICB3aGlsZSghcGF0dGVybi50ZXN0KGxpbmVzWzBdKSl7DQogICAgICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5zbGljZSgxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8v6YGN5Y6G5q+P5LiA6KGM77yM5b2i5oiQ5LiA5Liq5q+P6KGM5bim552A5L+p5YWD57Sg55qE5pWw57uE77yM56ys5LiA5Liq5YWD57Sg5piv5Lul56eS5Li66K6h566X5Y2V5L2N55qE5pe26Ze077yM56ys5LqM5Liq5YWD57Sg5piv5q2M6K+NDQogICAgICAgICAgICBmb3IobGV0IGl0ZW0gb2YgbGluZXMpew0KICAgICAgICAgICAgICAgIGxldCB0aW1lID0gaXRlbS5tYXRjaChwYXR0ZXJuKTsgIC8v5a2Y5YmN6Z2i55qE5pe26Ze05q61DQogICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gaXRlbS5yZXBsYWNlKHBhdHRlcm4sJycpOy8v5a2Y5ZCO6Z2i55qE5q2M6K+NDQogICAgICAgICAgICAgICAgZm9yKGxldCBpdGVtMSBvZiB0aW1lKXsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHQgPSBpdGVtMS5zbGljZSgxLC0xKS5zcGxpdCgiOiIpOyAgIC8v5Y+W5Ye65pe26Ze077yM5o2i566X5oiQ5pWw57uEDQogICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlIT0nJyl7DQogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbcGFyc2VJbnQodFswXSwxMCkqNjAgKyBwYXJzZUZsb2F0KHRbMV0pLHZhbHVlXSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvL+aMieeFp+esrOS4gOS4quWFg+e0oC0t5pe26Ze0LS3mjpLluo8NCiAgICAgICAgICAgIHJlc3VsdC5zb3J0KGZ1bmN0aW9uKGEsYil7DQogICAgICAgICAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9LA0KICAgICAgICAvL+i9rOWQkeatjOivjemhtemdog0KICAgICAgICB0b0x5cmljKCl7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogYC9seXJpY2B9KTsNCiAgICAgICAgfSwNCiAgICAgICAgLy/kuIvovb3pn7PkuZANCiAgICAgICAgZG93bmxvYWQoKSB7DQogICAgICAgICAgICBkb3dubG9hZCh0aGlzLnVybCkNCiAgICAgICAgICAgIC50aGVuKHJlcz0+ew0KICAgICAgICAgICAgICAgIGxldCBjb250ZW50ID0gcmVzLmRhdGE7DQogICAgICAgICAgICAgICAgbGV0IGVsZUxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7DQogICAgICAgICAgICAgICAgZWxlTGluay5kb3dubG9hZCA9IGAke3RoaXMuYXJ0aXN0fS0ke3RoaXMudGl0bGV9Lm1wM2A7DQogICAgICAgICAgICAgICAgZWxlTGluay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgICAgIC8v5oqK5a2X56ym5YaF5a656L2s5o2i5oiQYmxvYuWcsOWdgA0KICAgICAgICAgICAgICAgIGxldCBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdKTsNCiAgICAgICAgICAgICAgICBlbGVMaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOw0KICAgICAgICAgICAgICAgIC8v5oqK6ZO+5o6l5Zyw5Z2A5Yqg5YiwZG9jdW1lbnTph4wNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZUxpbmspOw0KICAgICAgICAgICAgICAgIC8v6Kem5Y+R54K55Ye7DQogICAgICAgICAgICAgICAgZWxlTGluay5jbGljaygpOw0KICAgICAgICAgICAgICAgIC8v54S25ZCO56e76Zmk5o6J6L+Z5Liq5paw5Yqg55qE5o6n5Lu2DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbGVMaW5rKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZXJyID0+ew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvL+aUtuiXjw0KICAgICAgICBjb2xsZWN0aW9uKCkgew0KICAgICAgICAgICAgaWYodGhpcy5sb2dpbkluKXsNCiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOw0KICAgICAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoJ3VzZXJJZCcsdGhpcy51c2VySWQpOw0KICAgICAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoJ3R5cGUnLDApOw0KICAgICAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoJ3NvbmdJZCcsdGhpcy5pZCk7DQogICAgICAgICAgICAgICAgc2V0Q29sbGVjdChwYXJhbXMpDQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlcy5jb2RlID09IDEpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNBY3RpdmUnLHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KCfmlLbol4/miJDlip8nLCdzdWNjZXNzJyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZXMuY29kZSA9PSAyKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgn5bey5pS26JePJywnd2FybmluZycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ+aUtuiXj+Wksei0pScsJ2Vycm9yJyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgn6K+35YWI55m75b2VJywnd2FybmluZycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["PlayBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PlayBar.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"play-bar\" :class=\"{show:!toggle}\">\r\n        <div @click=\"toggle=!toggle\" class=\"item-up\" :class=\"{turn: toggle}\">\r\n            <svg class=\"icon\">\r\n                <use xlink:href=\"#icon-jiantou-shang-cuxiantiao\"></use>\r\n            </svg>\r\n        </div>\r\n        <div class=\"kongjian\">\r\n            <!-- 上一首 -->\r\n            <div class=\"item\" @click=\"prev\">\r\n                <svg class=\"icon\">\r\n                    <use xlink:href=\"#icon-ziyuanldpi\"></use>\r\n                </svg>\r\n            </div>\r\n            <!-- 播放 -->\r\n            <div class=\"item\" @click=\"togglePlay\">\r\n                <svg class=\"icon\">\r\n                    <use :xlink:href=\"playButtonUrl\"></use>\r\n                </svg>\r\n            </div>\r\n            <!-- 下一首 -->\r\n            <div class=\"item\" @click=\"next\">\r\n                <svg class=\"icon\">\r\n                    <use xlink:href=\"#icon-ziyuanldpi1\"></use>\r\n                </svg>\r\n            </div>\r\n            <!-- 歌曲图片 -->\r\n            <div class=\"item-img\" @click=\"toLyric\">\r\n                <img :src=\"picUrl\"/>\r\n            </div>\r\n            <!-- 播放进度 -->\r\n            <div class=\"playing-speed\">\r\n                <!-- 播放开始时间 -->\r\n                <div class=\"current-time\">{{nowTime}}</div>\r\n                <div class=\"progress-box\">\r\n                    <div class=\"item-song-title\">\r\n                        <div>{{this.title}}</div>\r\n                        <div>{{this.artist}}</div>\r\n                    </div>\r\n                    <div ref=\"progress\" class=\"progress\" @mousemove=\"mousemove\">\r\n                        <!-- 进度条 -->\r\n                        <div ref=\"bg\" class=\"bg\" @click=\"updatemove\">\r\n                            <div ref=\"curProgress\" class=\"cur-progress\" :style=\"{width:curLength+'%'}\"></div>\r\n                        </div>\r\n                        <!-- 拖动的点点 -->\r\n                        <div ref=\"idot\" class=\"idot\" :style=\"{left:curLength+'%'}\" @mousedown=\"mousedown\" @mouseup=\"mouseup\"></div>\r\n                    </div>\r\n                </div>\r\n                <!-- 播放结束时间 -->\r\n                <div class=\"left-time\">{{songTime}}</div>\r\n                <!-- 音量 -->\r\n                <div class=\"item item-volume\">\r\n                    <svg v-if=\"volume == 0\" class=\"icon\">\r\n                        <use xlink:href=\"#icon-yinliangjingyinheix\"></use>\r\n                    </svg>\r\n                    <svg v-else class=\"icon\">\r\n                        <use xlink:href=\"#icon-yinliang1\"></use>\r\n                    </svg>\r\n                    <el-slider class=\"volume\" v-model=\"volume\" :vertical=\"true\"></el-slider>\r\n                </div>\r\n                <!-- 收藏 -->\r\n                <div class=\"item\" @click=\"collection\">\r\n                    <svg :class=\"{active:isActive}\" class=\"icon\">\r\n                        <use xlink:href=\"#icon-xihuan-shi\"></use>\r\n                    </svg>\r\n                </div>\r\n                <!-- 下载 -->\r\n                <div class=\"item\" @click=\"download\">\r\n                    <svg class=\"icon\">\r\n                        <use xlink:href=\"#icon-xiazai\"></use>\r\n                    </svg>\r\n                </div>\r\n                <!-- 当前播放的歌曲列表 -->\r\n                <div class=\"item\" @click=\"changeAside\">\r\n                    <svg class=\"icon\">\r\n                        <use xlink:href=\"#icon-liebiao\"></use>\r\n                    </svg>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {mapGetters} from 'vuex';\r\nimport { download,setCollect,getCollectOfUserId } from '../api/index';\r\n\r\nexport default {\r\n    name: 'play-bar',\r\n    data(){\r\n        return {\r\n            nowTime: '00:00',        //当前播放进度的时间\r\n            songTime: '00:00',        //当前歌曲总时间\r\n            curLength: 0,            //进度条的位置\r\n            progressLength: 0,      //进度条的总长度\r\n            mouseStartX:    0,      //拖拽开始位置\r\n            tag: false,             //拖拽开始结束的标志，当开始拖拽，它的值才会变成true\r\n            volume: 50,             //音量，默认一半\r\n            toggle: true            //显示隐藏播放器页面\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters([\r\n            'id',               //歌曲id\r\n            'url',              //歌曲地址\r\n            'isPlay',           //播放状态\r\n            'playButtonUrl',   //播放状态的图标\r\n            'picUrl',            //正在播放的音乐的图片\r\n            'title',                  //歌名\r\n            'artist',                 //歌手名\r\n            'duration',                //音乐时长\r\n            'curTime',                //当前音乐的播放位置\r\n            'showAside',            //是否显示播放中的歌曲列表\r\n            'listIndex',            //当前歌曲在歌单中的位置\r\n            'listOfSongs',          //当前歌单列表\r\n            'autoNext',             //自动播放下一首\r\n            'loginIn',              //用户是否已登录\r\n            'userId',               //当前登录用户的id\r\n            'isActive',             //当前播放的歌曲是否已收藏\r\n        ])\r\n    },\r\n    watch:{\r\n        //切换播放状态的图标\r\n        isPlay() {\r\n             if(this.isPlay){\r\n                this.$store.commit('setPlayButtonUrl', '#icon-zanting');\r\n            }else{\r\n                this.$store.commit('setPlayButtonUrl', '#icon-bofang');\r\n            }\r\n        },\r\n        curTime(){\r\n            this.nowTime = this.formatSeconds(this.curTime);\r\n            this.songTime = this.formatSeconds(this.duration);\r\n            this.curLength = (this.curTime / this.duration) *100;\r\n        },\r\n        //音量变化\r\n        volume(){\r\n            this.$store.commit('setVolume',this.volume / 100);\r\n        },\r\n        //自动播放下一首\r\n        autoNext(){\r\n            this.next();\r\n        }\r\n    },\r\n    mounted(){\r\n        this.progressLength = this.$refs.progress.getBoundingClientRect().width;\r\n        document.querySelector('.item-volume').addEventListener('click',function(e){\r\n            document.querySelector('.volume').classList.add('show-volume');\r\n            e.stopPropagation();\r\n        },false);\r\n        document.querySelector('.volume').addEventListener('click',function(e){\r\n            e.stopPropagation();\r\n        },false);\r\n        document.addEventListener('click',function(){\r\n            document.querySelector('.volume').classList.remove('show-volume');\r\n        },false);\r\n    },\r\n    methods: {\r\n        //提示信息\r\n        notify(title,type) {\r\n            this.$notify({\r\n                title: title,\r\n                type: type\r\n            })\r\n        },\r\n        //控制音乐播放、暂停\r\n        togglePlay() {\r\n            if(this.isPlay){\r\n                this.$store.commit('setIsPlay', false);\r\n            }else{\r\n                this.$store.commit('setIsPlay', true);\r\n            }\r\n        },\r\n        //解析时间\r\n        formatSeconds(value){\r\n            let theTime = parseInt(value);\r\n            let result = '';    //返回值\r\n            let hour = parseInt(theTime / 3600);    //小时\r\n            let minute = parseInt((theTime / 60) % 60); //分钟\r\n            let second = parseInt(theTime % 60);        //秒\r\n            if(hour > 0){\r\n                if(hour < 10){\r\n                    result = '0' + hour + \":\";\r\n                }else{\r\n                    result = hour + \":\";\r\n                }\r\n            }\r\n            if(minute > 0){\r\n                if(minute < 10){\r\n                    result += \"0\" + minute + \":\";\r\n                }else{\r\n                    result += minute + \":\";\r\n                }\r\n            }else{\r\n                result += \"00:\";\r\n            }\r\n            if(second > 0){\r\n                if(second < 10){\r\n                    result += \"0\" + second;\r\n                }else{\r\n                    result += second;\r\n                }\r\n            }else{\r\n                result += \"00\";\r\n            }\r\n            return result;\r\n        },\r\n        //拖拽开始\r\n        mousedown(e){\r\n            this.mouseStartX = e.clientX;\r\n            this.tag = true;\r\n        },\r\n        //拖拽结束\r\n        mouseup(){\r\n            this.tag = false;\r\n        },\r\n        //拖拽中\r\n        mousemove(e){\r\n            if(!this.duration){\r\n                return false;\r\n            }\r\n            if(this.tag){\r\n                let movementX = e.clientX - this.mouseStartX;       //点点移动的距离\r\n                let curLength = this.$refs.curProgress.getBoundingClientRect().width;\r\n                let newPercent = ((movementX+curLength)/this.progressLength)*100;\r\n                if(newPercent>100){\r\n                    newPercent = 100;\r\n                }\r\n                this.curLength = newPercent;\r\n                this.mouseStartX = e.clientX;\r\n                this.changeTime(newPercent);\r\n            }\r\n        },\r\n        //更改歌曲进度\r\n        changeTime(percent){\r\n            let newCurTime = (percent*0.01)* this.duration;\r\n            this.$store.commit('setChangeTime',newCurTime);\r\n        },\r\n        //点击播放条切换播放进度\r\n        updatemove(e){\r\n            if(!this.tag){\r\n                //进度条的左侧坐标\r\n                let curLength = this.$refs.bg.offsetLeft;\r\n                let newPercent = ((e.clientX - curLength) / this.progressLength) * 100;\r\n                if(newPercent>100){\r\n                    newPercent = 100;\r\n                }else if(newPercent<0){\r\n                    newPercent = 0;\r\n                }\r\n                this.curLength = newPercent;\r\n                this.changeTime(newPercent);\r\n            }\r\n        },\r\n        //显示播放中的歌曲列表\r\n        changeAside(){\r\n            this.$store.commit('setShowAside',true);\r\n        },\r\n        //上一首\r\n        prev(){\r\n            if(this.listIndex != -1 && this.listOfSongs.length > 1){    //当前处于不可能状态或者只有只有一首音乐的时候不执行）\r\n                if(this.listIndex > 0){                                 //不是第一首音乐\r\n                    this.$store.commit('setListIndex',this.listIndex - 1);  //直接返回上一首\r\n                }else{                                                  //当前是第一首音乐\r\n                    this.$store.commit('setListIndex',this.listOfSongs.length - 1);  //切换到倒数第一首\r\n                }\r\n                this.toplay(this.listOfSongs[this.listIndex].url);\r\n            }\r\n        },\r\n        //下一首\r\n        next(){\r\n            if(this.listIndex != -1 && this.listOfSongs.length > 1){    //当前处于不可能状态或者只有只有一首音乐的时候不执行）\r\n                if(this.listIndex < this.listOfSongs.length - 1){                                 //不是最后一首音乐\r\n                    this.$store.commit('setListIndex',this.listIndex + 1);  //直接返回下一首\r\n                }else{                                                      //当前是最后一首音乐\r\n                    this.$store.commit('setListIndex',0);  //切换到第一首\r\n                }\r\n                this.toplay(this.listOfSongs[this.listIndex].url);\r\n            }\r\n        },\r\n        //播放音乐\r\n        toplay: function(url){\r\n            if(url && url != this.url){\r\n                this.$store.commit('setId',this.listOfSongs[this.listIndex].id);\r\n                this.$store.commit('setUrl',this.$store.state.configure.HOST+url);\r\n                this.$store.commit('setPicUrl',this.$store.state.configure.HOST+this.listOfSongs[this.listIndex].pic);\r\n                this.$store.commit('setTitle',this.replaceFName(this.listOfSongs[this.listIndex].name));\r\n                this.$store.commit('setArtist',this.replaceLName(this.listOfSongs[this.listIndex].name));\r\n                this.$store.commit('setLyric',this.parseLyric(this.listOfSongs[this.listIndex].lyric));\r\n                this.$store.commit('setIsActive',false);\r\n                if(this.loginIn){\r\n                    getCollectOfUserId(this.userId)\r\n                        .then(res =>{\r\n                            for(let item of res){\r\n                                if(item.songId == id){\r\n                                    this.$store.commit('setIsActive',true);\r\n                                    break;\r\n                                }\r\n                            }\r\n                        })\r\n                }\r\n            }\r\n        },\r\n         //获取名字前半部分--歌手名\r\n        replaceLName(str){\r\n            let arr = str.split('-');\r\n            return arr[0];\r\n        },\r\n        //获取名字后半部分--歌名\r\n        replaceFName(str){\r\n            let arr = str.split('-');\r\n            return arr[1];\r\n        },\r\n        //解析歌词\r\n        parseLyric(text){\r\n            let lines = text.split(\"\\n\");                   //将歌词按行分解成数组\r\n            let pattern = /\\[\\d{2}:\\d{2}.(\\d{3}|\\d{2})\\]/g; //时间格式的正则表达式\r\n            let result = [];                                //返回值\r\n            //对于歌词格式不对的直接返回\r\n            if(!(/\\[.+\\]/.test(text))){\r\n                return [[0,text]]\r\n            }\r\n            //去掉前面格式不正确的行\r\n            while(!pattern.test(lines[0])){\r\n                lines = lines.slice(1);\r\n            }\r\n            //遍历每一行，形成一个每行带着俩元素的数组，第一个元素是以秒为计算单位的时间，第二个元素是歌词\r\n            for(let item of lines){\r\n                let time = item.match(pattern);  //存前面的时间段\r\n                let value = item.replace(pattern,'');//存后面的歌词\r\n                for(let item1 of time){\r\n                    let t = item1.slice(1,-1).split(\":\");   //取出时间，换算成数组\r\n                    if(value!=''){\r\n                        result.push([parseInt(t[0],10)*60 + parseFloat(t[1]),value]);\r\n                    }\r\n                }\r\n            }\r\n            //按照第一个元素--时间--排序\r\n            result.sort(function(a,b){\r\n                return a[0] - b[0];\r\n            });\r\n            return result;\r\n        },\r\n        //转向歌词页面\r\n        toLyric(){\r\n            this.$router.push({path: `/lyric`});\r\n        },\r\n        //下载音乐\r\n        download() {\r\n            download(this.url)\r\n            .then(res=>{\r\n                let content = res.data;\r\n                let eleLink = document.createElement('a');\r\n                eleLink.download = `${this.artist}-${this.title}.mp3`;\r\n                eleLink.style.display = 'none';\r\n                //把字符内容转换成blob地址\r\n                let blob = new Blob([content]);\r\n                eleLink.href = URL.createObjectURL(blob);\r\n                //把链接地址加到document里\r\n                document.body.appendChild(eleLink);\r\n                //触发点击\r\n                eleLink.click();\r\n                //然后移除掉这个新加的控件\r\n                document.body.removeChild(eleLink);\r\n            })\r\n            .catch(err =>{\r\n                console.log(err);\r\n            })\r\n        },\r\n        //收藏\r\n        collection() {\r\n            if(this.loginIn){\r\n                var params = new URLSearchParams();\r\n                params.append('userId',this.userId);\r\n                params.append('type',0);\r\n                params.append('songId',this.id);\r\n                setCollect(params)\r\n                    .then(res =>{\r\n                        if(res.code == 1){\r\n                            this.$store.commit('setIsActive',true);\r\n                            this.notify('收藏成功','success');\r\n                        }else if(res.code == 2){\r\n                            this.notify('已收藏','warning');\r\n                        }else{\r\n                            this.notify('收藏失败','error');\r\n                        }\r\n                    })\r\n            }else{\r\n                this.notify('请先登录','warning');\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style  lang=\"scss\" scoped>\r\n@import '../assets/css/play-bar.scss';\r\n</style>\r\n"]}]}