{"remainingRequest":"D:\\AC\\shixun\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\AC\\shixun\\MusicSystem\\MusicSystemUserVue\\src\\components\\PlayBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\AC\\shixun\\MusicSystem\\MusicSystemUserVue\\src\\components\\PlayBar.vue","mtime":1679674905137},{"path":"D:\\AC\\shixun\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678981922231},{"path":"D:\\AC\\shixun\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1678981923193}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQppbXBvcnQgew0KICBkb3dubG9hZCwNCiAgc2V0Q29sbGVjdCwNCiAgZ2V0Q29sbGVjdE9mVXNlcklkLA0KICBzb25nT2ZTb25nSWQsDQp9IGZyb20gIi4uL2FwaS9pbmRleCI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogInBsYXktYmFyIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbm93VGltZTogIjAwOjAwIiwgLy/lvZPliY3mkq3mlL7ov5vluqbnmoTml7bpl7QNCiAgICAgIHNvbmdUaW1lOiAiMDA6MDAiLCAvL+W9k+WJjeatjOabsuaAu+aXtumXtA0KICAgICAgY3VyTGVuZ3RoOiAwLCAvL+i/m+W6puadoeeahOS9jee9rg0KICAgICAgcHJvZ3Jlc3NMZW5ndGg6IDAsIC8v6L+b5bqm5p2h55qE5oC76ZW/5bqmDQogICAgICBtb3VzZVN0YXJ0WDogMCwgLy/mi5bmi73lvIDlp4vkvY3nva4NCiAgICAgIHRhZzogZmFsc2UsIC8v5ouW5ou95byA5aeL57uT5p2f55qE5qCH5b+X77yM5b2T5byA5aeL5ouW5ou977yM5a6D55qE5YC85omN5Lya5Y+Y5oiQdHJ1ZQ0KICAgICAgdm9sdW1lOiA1MCwgLy/pn7Pph4/vvIzpu5jorqTkuIDljYoNCiAgICAgIHRvZ2dsZTogdHJ1ZSwgLy/mmL7npLrpmpDol4/mkq3mlL7lmajpobXpnaINCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoWw0KICAgICAgImlkIiwgLy/mrYzmm7JpZA0KICAgICAgInVybCIsIC8v5q2M5puy5Zyw5Z2ADQogICAgICAiaXNQbGF5IiwgLy/mkq3mlL7nirbmgIENCiAgICAgICJwbGF5QnV0dG9uVXJsIiwgLy/mkq3mlL7nirbmgIHnmoTlm77moIcNCiAgICAgICJwaWNVcmwiLCAvL+ato+WcqOaSreaUvueahOmfs+S5kOeahOWbvueJhw0KICAgICAgInRpdGxlIiwgLy/mrYzlkI0NCiAgICAgICJhcnRpc3QiLCAvL+atjOaJi+WQjQ0KICAgICAgImR1cmF0aW9uIiwgLy/pn7PkuZDml7bplb8NCiAgICAgICJjdXJUaW1lIiwgLy/lvZPliY3pn7PkuZDnmoTmkq3mlL7kvY3nva4NCiAgICAgICJzaG93QXNpZGUiLCAvL+aYr+WQpuaYvuekuuaSreaUvuS4reeahOatjOabsuWIl+ihqA0KICAgICAgImxpc3RJbmRleCIsIC8v5b2T5YmN5q2M5puy5Zyo5q2M5Y2V5Lit55qE5L2N572uDQogICAgICAibGlzdE9mU29uZ3MiLCAvL+W9k+WJjeatjOWNleWIl+ihqA0KICAgICAgImF1dG9OZXh0IiwgLy/oh6rliqjmkq3mlL7kuIvkuIDpppYNCiAgICAgICJsb2dpbkluIiwgLy/nlKjmiLfmmK/lkKblt7LnmbvlvZUNCiAgICAgICJ1c2VySWQiLCAvL+W9k+WJjeeZu+W9leeUqOaIt+eahGlkDQogICAgICAiaXNBY3RpdmUiLCAvL+W9k+WJjeaSreaUvueahOatjOabsuaYr+WQpuW3suaUtuiXjw0KICAgIF0pLA0KICB9LA0KICB3YXRjaDogew0KICAgIC8v5YiH5o2i5pKt5pS+54q25oCB55qE5Zu+5qCHDQogICAgaXNQbGF5KCkgew0KICAgICAgaWYgKHRoaXMuaXNQbGF5KSB7DQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0UGxheUJ1dHRvblVybCIsICIjaWNvbi16YW50aW5nIik7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldFBsYXlCdXR0b25VcmwiLCAiI2ljb24tYm9mYW5nIik7DQogICAgICB9DQogICAgfSwNCiAgICBjdXJUaW1lKCkgew0KICAgICAgdGhpcy5ub3dUaW1lID0gdGhpcy5mb3JtYXRTZWNvbmRzKHRoaXMuY3VyVGltZSk7DQogICAgICB0aGlzLnNvbmdUaW1lID0gdGhpcy5mb3JtYXRTZWNvbmRzKHRoaXMuZHVyYXRpb24pOw0KICAgICAgdGhpcy5jdXJMZW5ndGggPSAodGhpcy5jdXJUaW1lIC8gdGhpcy5kdXJhdGlvbikgKiAxMDA7DQogICAgfSwNCiAgICAvL+mfs+mHj+WPmOWMlg0KICAgIHZvbHVtZSgpIHsNCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0Vm9sdW1lIiwgdGhpcy52b2x1bWUgLyAxMDApOw0KICAgIH0sDQogICAgLy/oh6rliqjmkq3mlL7kuIvkuIDpppYNCiAgICBhdXRvTmV4dCgpIHsNCiAgICAgIHRoaXMubmV4dCgpOw0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5wcm9ncmVzc0xlbmd0aCA9IHRoaXMuJHJlZnMucHJvZ3Jlc3MuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7DQogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLml0ZW0tdm9sdW1lIikuYWRkRXZlbnRMaXN0ZW5lcigNCiAgICAgICJjbGljayIsDQogICAgICBmdW5jdGlvbiAoZSkgew0KICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudm9sdW1lIikuY2xhc3NMaXN0LmFkZCgic2hvdy12b2x1bWUiKTsNCiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgIH0sDQogICAgICBmYWxzZQ0KICAgICk7DQogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnZvbHVtZSIpLmFkZEV2ZW50TGlzdGVuZXIoDQogICAgICAiY2xpY2siLA0KICAgICAgZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgIH0sDQogICAgICBmYWxzZQ0KICAgICk7DQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigNCiAgICAgICJjbGljayIsDQogICAgICBmdW5jdGlvbiAoKSB7DQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi52b2x1bWUiKS5jbGFzc0xpc3QucmVtb3ZlKCJzaG93LXZvbHVtZSIpOw0KICAgICAgfSwNCiAgICAgIGZhbHNlDQogICAgKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHNoYXJlKCkgew0KICAgICAgLy/liIbkuqsNCiAgICAgIGlmICh0aGlzLmlkICYmIHRoaXMuaWQgIT0gIiIpIHsNCiAgICAgICAgdGhpcy5jb3B5VG9DbGlwKA0KICAgICAgICAgICLliIbkuqvkuIDpppbjgIoiICsNCiAgICAgICAgICAgIHRoaXMudGl0bGUgKw0KICAgICAgICAgICAgIuOAi+eCueWHu+OAkCIgKw0KICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLm9yaWdpbiArDQogICAgICAgICAgICAiLyMvbHlyaWM/c29uZ0lkPSIgKw0KICAgICAgICAgICAgdGhpcy5pZCArICLjgJHkuI7miJHkuIDotbfogYblkKzvvIEiDQogICAgICAgICk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLm5vdGlmeSgi5b2T5YmN5pyq6YCJ5oup6Z+z5LmQ44CCIiwgImVycm9yIik7DQogICAgICB9DQogICAgfSwNCiAgICBjb3B5VG9DbGlwKGNvbnRlbnQpIHsNCiAgICAgIHZhciBhdXggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOw0KICAgICAgYXV4LnNldEF0dHJpYnV0ZSgidmFsdWUiLCBjb250ZW50KTsNCiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXV4KTsNCiAgICAgIGF1eC5zZWxlY3QoKTsNCiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJjb3B5Iik7DQogICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGF1eCk7DQogICAgICB0aGlzLm5vdGlmeSgi5oKo5bey5oiQ5Yqf6I635Y+W6Z+z5LmQ6ZO+5o6l77yM5b+r5Y6757KY6LS05YiG5Lqr5ZCn44CCIiwgInN1Y2Nlc3MiKTsNCg0KICAgICAgLy8gICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb250ZW50KS50aGVuKCgpID0+IHsNCiAgICAgIC8vICAgICB0aGlzLm5vdGlmeSgi5oKo5bey5oiQ5Yqf6I635Y+W6Z+z5LmQ6ZO+5o6l77yM5b+r5Y6757KY6LS05YiG5Lqr5ZCn44CCIiwgInN1Y2Nlc3MiKTsNCiAgICAgIC8vICAgfSk7DQogICAgfSwNCiAgICAvL+aPkOekuuS/oeaBrw0KICAgIG5vdGlmeSh0aXRsZSwgdHlwZSkgew0KICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgdGl0bGU6IHRpdGxlLA0KICAgICAgICB0eXBlOiB0eXBlLA0KICAgICAgfSk7DQogICAgfSwNCiAgICAvL+aOp+WItumfs+S5kOaSreaUvuOAgeaaguWBnA0KICAgIHRvZ2dsZVBsYXkoKSB7DQogICAgICBpZiAodGhpcy5pc1BsYXkpIHsNCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRJc1BsYXkiLCBmYWxzZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldElzUGxheSIsIHRydWUpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/op6PmnpDml7bpl7QNCiAgICBmb3JtYXRTZWNvbmRzKHZhbHVlKSB7DQogICAgICBsZXQgdGhlVGltZSA9IHBhcnNlSW50KHZhbHVlKTsNCiAgICAgIGxldCByZXN1bHQgPSAiIjsgLy/ov5Tlm57lgLwNCiAgICAgIGxldCBob3VyID0gcGFyc2VJbnQodGhlVGltZSAvIDM2MDApOyAvL+Wwj+aXtg0KICAgICAgbGV0IG1pbnV0ZSA9IHBhcnNlSW50KCh0aGVUaW1lIC8gNjApICUgNjApOyAvL+WIhumSnw0KICAgICAgbGV0IHNlY29uZCA9IHBhcnNlSW50KHRoZVRpbWUgJSA2MCk7IC8v56eSDQogICAgICBpZiAoaG91ciA+IDApIHsNCiAgICAgICAgaWYgKGhvdXIgPCAxMCkgew0KICAgICAgICAgIHJlc3VsdCA9ICIwIiArIGhvdXIgKyAiOiI7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgcmVzdWx0ID0gaG91ciArICI6IjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKG1pbnV0ZSA+IDApIHsNCiAgICAgICAgaWYgKG1pbnV0ZSA8IDEwKSB7DQogICAgICAgICAgcmVzdWx0ICs9ICIwIiArIG1pbnV0ZSArICI6IjsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXN1bHQgKz0gbWludXRlICsgIjoiOw0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXN1bHQgKz0gIjAwOiI7DQogICAgICB9DQogICAgICBpZiAoc2Vjb25kID4gMCkgew0KICAgICAgICBpZiAoc2Vjb25kIDwgMTApIHsNCiAgICAgICAgICByZXN1bHQgKz0gIjAiICsgc2Vjb25kOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHJlc3VsdCArPSBzZWNvbmQ7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJlc3VsdCArPSAiMDAiOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9LA0KICAgIC8v5ouW5ou95byA5aeLDQogICAgbW91c2Vkb3duKGUpIHsNCiAgICAgIHRoaXMubW91c2VTdGFydFggPSBlLmNsaWVudFg7DQogICAgICB0aGlzLnRhZyA9IHRydWU7DQogICAgfSwNCiAgICAvL+aLluaLvee7k+adnw0KICAgIG1vdXNldXAoKSB7DQogICAgICB0aGlzLnRhZyA9IGZhbHNlOw0KICAgIH0sDQogICAgLy/mi5bmi73kuK0NCiAgICBtb3VzZW1vdmUoZSkgew0KICAgICAgaWYgKCF0aGlzLmR1cmF0aW9uKSB7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLnRhZykgew0KICAgICAgICBsZXQgbW92ZW1lbnRYID0gZS5jbGllbnRYIC0gdGhpcy5tb3VzZVN0YXJ0WDsgLy/ngrnngrnnp7vliqjnmoTot53nprsNCiAgICAgICAgbGV0IGN1ckxlbmd0aCA9IHRoaXMuJHJlZnMuY3VyUHJvZ3Jlc3MuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7DQogICAgICAgIGxldCBuZXdQZXJjZW50ID0gKChtb3ZlbWVudFggKyBjdXJMZW5ndGgpIC8gdGhpcy5wcm9ncmVzc0xlbmd0aCkgKiAxMDA7DQogICAgICAgIGlmIChuZXdQZXJjZW50ID4gMTAwKSB7DQogICAgICAgICAgbmV3UGVyY2VudCA9IDEwMDsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmN1ckxlbmd0aCA9IG5ld1BlcmNlbnQ7DQogICAgICAgIHRoaXMubW91c2VTdGFydFggPSBlLmNsaWVudFg7DQogICAgICAgIHRoaXMuY2hhbmdlVGltZShuZXdQZXJjZW50KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5pu05pS55q2M5puy6L+b5bqmDQogICAgY2hhbmdlVGltZShwZXJjZW50KSB7DQogICAgICBsZXQgbmV3Q3VyVGltZSA9IHBlcmNlbnQgKiAwLjAxICogdGhpcy5kdXJhdGlvbjsNCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0Q2hhbmdlVGltZSIsIG5ld0N1clRpbWUpOw0KICAgIH0sDQogICAgLy/ngrnlh7vmkq3mlL7mnaHliIfmjaLmkq3mlL7ov5vluqYNCiAgICB1cGRhdGVtb3ZlKGUpIHsNCiAgICAgIGlmICghdGhpcy50YWcpIHsNCiAgICAgICAgLy/ov5vluqbmnaHnmoTlt6bkvqflnZDmoIcNCiAgICAgICAgbGV0IGN1ckxlbmd0aCA9IHRoaXMuJHJlZnMuYmcub2Zmc2V0TGVmdDsNCiAgICAgICAgbGV0IG5ld1BlcmNlbnQgPSAoKGUuY2xpZW50WCAtIGN1ckxlbmd0aCkgLyB0aGlzLnByb2dyZXNzTGVuZ3RoKSAqIDEwMDsNCiAgICAgICAgaWYgKG5ld1BlcmNlbnQgPiAxMDApIHsNCiAgICAgICAgICBuZXdQZXJjZW50ID0gMTAwOw0KICAgICAgICB9IGVsc2UgaWYgKG5ld1BlcmNlbnQgPCAwKSB7DQogICAgICAgICAgbmV3UGVyY2VudCA9IDA7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5jdXJMZW5ndGggPSBuZXdQZXJjZW50Ow0KICAgICAgICB0aGlzLmNoYW5nZVRpbWUobmV3UGVyY2VudCk7DQogICAgICB9DQogICAgfSwNCiAgICAvL+aYvuekuuaSreaUvuS4reeahOatjOabsuWIl+ihqA0KICAgIGNoYW5nZUFzaWRlKCkgew0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRTaG93QXNpZGUiLCB0cnVlKTsNCiAgICB9LA0KICAgIC8v5LiK5LiA6aaWDQogICAgcHJldigpIHsNCiAgICAgIGlmICh0aGlzLmxpc3RJbmRleCAhPSAtMSAmJiB0aGlzLmxpc3RPZlNvbmdzLmxlbmd0aCA+IDEpIHsNCiAgICAgICAgLy/lvZPliY3lpITkuo7kuI3lj6/og73nirbmgIHmiJbogIXlj6rmnInlj6rmnInkuIDpppbpn7PkuZDnmoTml7blgJnkuI3miafooYzvvIkNCiAgICAgICAgaWYgKHRoaXMubGlzdEluZGV4ID4gMCkgew0KICAgICAgICAgIC8v5LiN5piv56ys5LiA6aaW6Z+z5LmQDQogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRMaXN0SW5kZXgiLCB0aGlzLmxpc3RJbmRleCAtIDEpOyAvL+ebtOaOpei/lOWbnuS4iuS4gOmmlg0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIC8v5b2T5YmN5piv56ys5LiA6aaW6Z+z5LmQDQogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRMaXN0SW5kZXgiLCB0aGlzLmxpc3RPZlNvbmdzLmxlbmd0aCAtIDEpOyAvL+WIh+aNouWIsOWAkuaVsOesrOS4gOmmlg0KICAgICAgICB9DQogICAgICAgIHRoaXMudG9wbGF5KHRoaXMubGlzdE9mU29uZ3NbdGhpcy5saXN0SW5kZXhdLnVybCk7DQogICAgICB9DQogICAgfSwNCiAgICAvL+S4i+S4gOmmlg0KICAgIG5leHQoKSB7DQogICAgICBpZiAodGhpcy5saXN0SW5kZXggIT0gLTEgJiYgdGhpcy5saXN0T2ZTb25ncy5sZW5ndGggPiAxKSB7DQogICAgICAgIC8v5b2T5YmN5aSE5LqO5LiN5Y+v6IO954q25oCB5oiW6ICF5Y+q5pyJ5Y+q5pyJ5LiA6aaW6Z+z5LmQ55qE5pe25YCZ5LiN5omn6KGM77yJDQogICAgICAgIGlmICh0aGlzLmxpc3RJbmRleCA8IHRoaXMubGlzdE9mU29uZ3MubGVuZ3RoIC0gMSkgew0KICAgICAgICAgIC8v5LiN5piv5pyA5ZCO5LiA6aaW6Z+z5LmQDQogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRMaXN0SW5kZXgiLCB0aGlzLmxpc3RJbmRleCArIDEpOyAvL+ebtOaOpei/lOWbnuS4i+S4gOmmlg0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIC8v5b2T5YmN5piv5pyA5ZCO5LiA6aaW6Z+z5LmQDQogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRMaXN0SW5kZXgiLCAwKTsgLy/liIfmjaLliLDnrKzkuIDpppYNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnRvcGxheSh0aGlzLmxpc3RPZlNvbmdzW3RoaXMubGlzdEluZGV4XS51cmwpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/mkq3mlL7pn7PkuZANCiAgICB0b3BsYXk6IGZ1bmN0aW9uICh1cmwpIHsNCiAgICAgIGlmICh1cmwgJiYgdXJsICE9IHRoaXMudXJsKSB7DQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0SWQiLCB0aGlzLmxpc3RPZlNvbmdzW3RoaXMubGlzdEluZGV4XS5pZCk7DQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0VXJsIiwgdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlndXJlLkhPU1QgKyB1cmwpOw0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoDQogICAgICAgICAgInNldFBpY1VybCIsDQogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlndXJlLkhPU1QgKw0KICAgICAgICAgICAgdGhpcy5saXN0T2ZTb25nc1t0aGlzLmxpc3RJbmRleF0ucGljDQogICAgICAgICk7DQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgNCiAgICAgICAgICAic2V0VGl0bGUiLA0KICAgICAgICAgIHRoaXMucmVwbGFjZUZOYW1lKHRoaXMubGlzdE9mU29uZ3NbdGhpcy5saXN0SW5kZXhdLm5hbWUpDQogICAgICAgICk7DQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgNCiAgICAgICAgICAic2V0QXJ0aXN0IiwNCiAgICAgICAgICB0aGlzLnJlcGxhY2VMTmFtZSh0aGlzLmxpc3RPZlNvbmdzW3RoaXMubGlzdEluZGV4XS5uYW1lKQ0KICAgICAgICApOw0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoDQogICAgICAgICAgInNldEx5cmljIiwNCiAgICAgICAgICB0aGlzLnBhcnNlTHlyaWModGhpcy5saXN0T2ZTb25nc1t0aGlzLmxpc3RJbmRleF0ubHlyaWMpDQogICAgICAgICk7DQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0SXNBY3RpdmUiLCBmYWxzZSk7DQogICAgICAgIGlmICh0aGlzLmxvZ2luSW4pIHsNCiAgICAgICAgICBnZXRDb2xsZWN0T2ZVc2VySWQodGhpcy51c2VySWQpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiByZXMpIHsNCiAgICAgICAgICAgICAgaWYgKGl0ZW0uc29uZ0lkID09IGlkKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRJc0FjdGl2ZSIsIHRydWUpOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIC8v6I635Y+W5ZCN5a2X5YmN5Y2K6YOo5YiGLS3mrYzmiYvlkI0NCiAgICByZXBsYWNlTE5hbWUoc3RyKSB7DQogICAgICBsZXQgYXJyID0gc3RyLnNwbGl0KCItIik7DQogICAgICByZXR1cm4gYXJyWzBdOw0KICAgIH0sDQogICAgLy/ojrflj5blkI3lrZflkI7ljYrpg6jliIYtLeatjOWQjQ0KICAgIHJlcGxhY2VGTmFtZShzdHIpIHsNCiAgICAgIGxldCBhcnIgPSBzdHIuc3BsaXQoIi0iKTsNCiAgICAgIHJldHVybiBhcnJbMV07DQogICAgfSwNCiAgICAvL+ino+aekOatjOivjQ0KICAgIHBhcnNlTHlyaWModGV4dCkgew0KICAgICAgbGV0IGxpbmVzID0gdGV4dC5zcGxpdCgiXG4iKTsgLy/lsIbmrYzor43mjInooYzliIbop6PmiJDmlbDnu4QNCiAgICAgIGxldCBwYXR0ZXJuID0gL1xbXGR7Mn06XGR7Mn0uKFxkezN9fFxkezJ9KVxdL2c7IC8v5pe26Ze05qC85byP55qE5q2j5YiZ6KGo6L6+5byPDQogICAgICBsZXQgcmVzdWx0ID0gW107IC8v6L+U5Zue5YC8DQogICAgICAvL+WvueS6juatjOivjeagvOW8j+S4jeWvueeahOebtOaOpei/lOWbng0KICAgICAgaWYgKCEvXFsuK1xdLy50ZXN0KHRleHQpKSB7DQogICAgICAgIHJldHVybiBbWzAsIHRleHRdXTsNCiAgICAgIH0NCiAgICAgIC8v5Y675o6J5YmN6Z2i5qC85byP5LiN5q2j56Gu55qE6KGMDQogICAgICB3aGlsZSAoIXBhdHRlcm4udGVzdChsaW5lc1swXSkpIHsNCiAgICAgICAgbGluZXMgPSBsaW5lcy5zbGljZSgxKTsNCiAgICAgIH0NCiAgICAgIC8v6YGN5Y6G5q+P5LiA6KGM77yM5b2i5oiQ5LiA5Liq5q+P6KGM5bim552A5L+p5YWD57Sg55qE5pWw57uE77yM56ys5LiA5Liq5YWD57Sg5piv5Lul56eS5Li66K6h566X5Y2V5L2N55qE5pe26Ze077yM56ys5LqM5Liq5YWD57Sg5piv5q2M6K+NDQogICAgICBmb3IgKGxldCBpdGVtIG9mIGxpbmVzKSB7DQogICAgICAgIGxldCB0aW1lID0gaXRlbS5tYXRjaChwYXR0ZXJuKTsgLy/lrZjliY3pnaLnmoTml7bpl7TmrrUNCiAgICAgICAgbGV0IHZhbHVlID0gaXRlbS5yZXBsYWNlKHBhdHRlcm4sICIiKTsgLy/lrZjlkI7pnaLnmoTmrYzor40NCiAgICAgICAgZm9yIChsZXQgaXRlbTEgb2YgdGltZSkgew0KICAgICAgICAgIGxldCB0ID0gaXRlbTEuc2xpY2UoMSwgLTEpLnNwbGl0KCI6Iik7IC8v5Y+W5Ye65pe26Ze077yM5o2i566X5oiQ5pWw57uEDQogICAgICAgICAgaWYgKHZhbHVlICE9ICIiKSB7DQogICAgICAgICAgICByZXN1bHQucHVzaChbcGFyc2VJbnQodFswXSwgMTApICogNjAgKyBwYXJzZUZsb2F0KHRbMV0pLCB2YWx1ZV0pOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgLy/mjInnhafnrKzkuIDkuKrlhYPntKAtLeaXtumXtC0t5o6S5bqPDQogICAgICByZXN1bHQuc29ydChmdW5jdGlvbiAoYSwgYikgew0KICAgICAgICByZXR1cm4gYVswXSAtIGJbMF07DQogICAgICB9KTsNCiAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfSwNCiAgICAvL+i9rOWQkeatjOivjemhtemdog0KICAgIHRvTHlyaWMoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IGAvbHlyaWNgIH0pOw0KICAgIH0sDQogICAgLy/kuIvovb3pn7PkuZANCiAgICBkb3dubG9hZCgpIHsNCiAgICAgIGRvd25sb2FkKHRoaXMudXJsKQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgbGV0IGNvbnRlbnQgPSByZXMuZGF0YTsNCiAgICAgICAgICBsZXQgZWxlTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsNCiAgICAgICAgICBlbGVMaW5rLmRvd25sb2FkID0gYCR7dGhpcy5hcnRpc3R9LSR7dGhpcy50aXRsZX0ubXAzYDsNCiAgICAgICAgICBlbGVMaW5rLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgLy/miorlrZfnrKblhoXlrrnovazmjaLmiJBibG9i5Zyw5Z2ADQogICAgICAgICAgbGV0IGJsb2IgPSBuZXcgQmxvYihbY29udGVudF0pOw0KICAgICAgICAgIGVsZUxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7DQogICAgICAgICAgLy/miorpk77mjqXlnLDlnYDliqDliLBkb2N1bWVudOmHjA0KICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlTGluayk7DQogICAgICAgICAgLy/op6blj5Hngrnlh7sNCiAgICAgICAgICBlbGVMaW5rLmNsaWNrKCk7DQogICAgICAgICAgLy/nhLblkI7np7vpmaTmjonov5nkuKrmlrDliqDnmoTmjqfku7YNCiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZUxpbmspOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGVycikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgLy/mlLbol48NCiAgICBjb2xsZWN0aW9uKCkgew0KICAgICAgaWYgKHRoaXMubG9naW5Jbikgew0KICAgICAgICB2YXIgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOw0KICAgICAgICBwYXJhbXMuYXBwZW5kKCJ1c2VySWQiLCB0aGlzLnVzZXJJZCk7DQogICAgICAgIHBhcmFtcy5hcHBlbmQoInR5cGUiLCAwKTsNCiAgICAgICAgcGFyYW1zLmFwcGVuZCgic29uZ0lkIiwgdGhpcy5pZCk7DQogICAgICAgIHNldENvbGxlY3QocGFyYW1zKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMSkgew0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRJc0FjdGl2ZSIsIHRydWUpOw0KICAgICAgICAgICAgdGhpcy5ub3RpZnkoIuaUtuiXj+aIkOWKnyIsICJzdWNjZXNzIik7DQogICAgICAgICAgfSBlbHNlIGlmIChyZXMuY29kZSA9PSAyKSB7DQogICAgICAgICAgICB0aGlzLm5vdGlmeSgi5bey5pS26JePIiwgIndhcm5pbmciKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5ub3RpZnkoIuaUtuiXj+Wksei0pSIsICJlcnJvciIpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLm5vdGlmeSgi6K+35YWI55m75b2VIiwgIndhcm5pbmciKTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["PlayBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PlayBar.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"play-bar\" :class=\"{ show: !toggle }\">\r\n    <div @click=\"toggle = !toggle\" class=\"item-up\" :class=\"{ turn: toggle }\">\r\n      <svg class=\"icon\">\r\n        <use xlink:href=\"#icon-jiantou-shang-cuxiantiao\"></use>\r\n      </svg>\r\n    </div>\r\n    <div class=\"kongjian\">\r\n      <!-- 上一首 -->\r\n      <div class=\"item\" @click=\"prev\">\r\n        <svg class=\"icon\">\r\n          <use xlink:href=\"#icon-ziyuanldpi\"></use>\r\n        </svg>\r\n      </div>\r\n      <!-- 播放 -->\r\n      <div class=\"item\" @click=\"togglePlay\">\r\n        <svg class=\"icon\">\r\n          <use :xlink:href=\"playButtonUrl\"></use>\r\n        </svg>\r\n      </div>\r\n      <!-- 下一首 -->\r\n      <div class=\"item\" @click=\"next\">\r\n        <svg class=\"icon\">\r\n          <use xlink:href=\"#icon-ziyuanldpi1\"></use>\r\n        </svg>\r\n      </div>\r\n      <!-- 歌曲图片 -->\r\n      <div class=\"item-img\" @click=\"toLyric\">\r\n        <img :src=\"picUrl\" />\r\n      </div>\r\n      <!-- 播放进度 -->\r\n      <div class=\"playing-speed\">\r\n        <!-- 播放开始时间 -->\r\n        <div class=\"current-time\">{{ nowTime }}</div>\r\n        <div class=\"progress-box\">\r\n          <div class=\"item-song-title\">\r\n            <div>{{ this.title }}</div>\r\n            <div>{{ this.artist }}</div>\r\n          </div>\r\n          <div ref=\"progress\" class=\"progress\" @mousemove=\"mousemove\">\r\n            <!-- 进度条 -->\r\n            <div ref=\"bg\" class=\"bg\" @click=\"updatemove\">\r\n              <div\r\n                ref=\"curProgress\"\r\n                class=\"cur-progress\"\r\n                :style=\"{ width: curLength + '%' }\"\r\n              ></div>\r\n            </div>\r\n            <!-- 拖动的点点 -->\r\n            <div\r\n              ref=\"idot\"\r\n              class=\"idot\"\r\n              :style=\"{ left: curLength + '%' }\"\r\n              @mousedown=\"mousedown\"\r\n              @mouseup=\"mouseup\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <!-- 播放结束时间 -->\r\n        <div class=\"left-time\">{{ songTime }}</div>\r\n        <!-- 音量 -->\r\n        <div class=\"item item-volume\">\r\n          <svg v-if=\"volume == 0\" class=\"icon\">\r\n            <use xlink:href=\"#icon-yinliangjingyinheix\"></use>\r\n          </svg>\r\n          <svg v-else class=\"icon\">\r\n            <use xlink:href=\"#icon-yinliang1\"></use>\r\n          </svg>\r\n          <el-slider\r\n            class=\"volume\"\r\n            v-model=\"volume\"\r\n            :vertical=\"true\"\r\n          ></el-slider>\r\n        </div>\r\n        <!-- 收藏 -->\r\n        <div class=\"item\" @click=\"collection\">\r\n          <svg :class=\"{ active: isActive }\" class=\"icon\">\r\n            <use xlink:href=\"#icon-xihuan-shi\"></use>\r\n          </svg>\r\n        </div>\r\n        <!-- 分享 -->\r\n        <div class=\"item\" @click=\"share\" style=\"padding-bottom: -5px\">\r\n          <svg\r\n            width=\"16\"\r\n            height=\"19\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            xmlns:svg=\"http://www.w3.org/2000/svg\"\r\n            xmlns:se=\"http://svg-edit.googlecode.com\"\r\n            class=\"bi bi-share-fill\"\r\n            se:nonce=\"62333\"\r\n          >\r\n            <g class=\"layer\">\r\n              <title>Layer 1</title>\r\n              <path\r\n                d=\"m11,2.5a2.5,2.5 0 1 1 0.6,1.63l-6.72,3.12a2.5,2.5 0 0 1 0,1.5l6.72,3.12a2.5,2.5 0 1 1 -0.48,0.88l-6.72,-3.12a2.5,2.5 0 1 1 0,-3.26l6.72,-3.12a2.5,2.5 0 0 1 -0.12,-0.75z\"\r\n                id=\"svg_62333_1\"\r\n              />\r\n            </g>\r\n          </svg>\r\n        </div>\r\n        <!-- 下载 -->\r\n        <div class=\"item\" @click=\"download\">\r\n          <svg class=\"icon\">\r\n            <use xlink:href=\"#icon-xiazai\"></use>\r\n          </svg>\r\n        </div>\r\n        <!-- 当前播放的歌曲列表 -->\r\n        <div class=\"item\" @click=\"changeAside\">\r\n          <svg class=\"icon\">\r\n            <use xlink:href=\"#icon-liebiao\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport {\r\n  download,\r\n  setCollect,\r\n  getCollectOfUserId,\r\n  songOfSongId,\r\n} from \"../api/index\";\r\n\r\nexport default {\r\n  name: \"play-bar\",\r\n  data() {\r\n    return {\r\n      nowTime: \"00:00\", //当前播放进度的时间\r\n      songTime: \"00:00\", //当前歌曲总时间\r\n      curLength: 0, //进度条的位置\r\n      progressLength: 0, //进度条的总长度\r\n      mouseStartX: 0, //拖拽开始位置\r\n      tag: false, //拖拽开始结束的标志，当开始拖拽，它的值才会变成true\r\n      volume: 50, //音量，默认一半\r\n      toggle: true, //显示隐藏播放器页面\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      \"id\", //歌曲id\r\n      \"url\", //歌曲地址\r\n      \"isPlay\", //播放状态\r\n      \"playButtonUrl\", //播放状态的图标\r\n      \"picUrl\", //正在播放的音乐的图片\r\n      \"title\", //歌名\r\n      \"artist\", //歌手名\r\n      \"duration\", //音乐时长\r\n      \"curTime\", //当前音乐的播放位置\r\n      \"showAside\", //是否显示播放中的歌曲列表\r\n      \"listIndex\", //当前歌曲在歌单中的位置\r\n      \"listOfSongs\", //当前歌单列表\r\n      \"autoNext\", //自动播放下一首\r\n      \"loginIn\", //用户是否已登录\r\n      \"userId\", //当前登录用户的id\r\n      \"isActive\", //当前播放的歌曲是否已收藏\r\n    ]),\r\n  },\r\n  watch: {\r\n    //切换播放状态的图标\r\n    isPlay() {\r\n      if (this.isPlay) {\r\n        this.$store.commit(\"setPlayButtonUrl\", \"#icon-zanting\");\r\n      } else {\r\n        this.$store.commit(\"setPlayButtonUrl\", \"#icon-bofang\");\r\n      }\r\n    },\r\n    curTime() {\r\n      this.nowTime = this.formatSeconds(this.curTime);\r\n      this.songTime = this.formatSeconds(this.duration);\r\n      this.curLength = (this.curTime / this.duration) * 100;\r\n    },\r\n    //音量变化\r\n    volume() {\r\n      this.$store.commit(\"setVolume\", this.volume / 100);\r\n    },\r\n    //自动播放下一首\r\n    autoNext() {\r\n      this.next();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.progressLength = this.$refs.progress.getBoundingClientRect().width;\r\n    document.querySelector(\".item-volume\").addEventListener(\r\n      \"click\",\r\n      function (e) {\r\n        document.querySelector(\".volume\").classList.add(\"show-volume\");\r\n        e.stopPropagation();\r\n      },\r\n      false\r\n    );\r\n    document.querySelector(\".volume\").addEventListener(\r\n      \"click\",\r\n      function (e) {\r\n        e.stopPropagation();\r\n      },\r\n      false\r\n    );\r\n    document.addEventListener(\r\n      \"click\",\r\n      function () {\r\n        document.querySelector(\".volume\").classList.remove(\"show-volume\");\r\n      },\r\n      false\r\n    );\r\n  },\r\n  methods: {\r\n    share() {\r\n      //分享\r\n      if (this.id && this.id != \"\") {\r\n        this.copyToClip(\r\n          \"分享一首《\" +\r\n            this.title +\r\n            \"》点击【\" +\r\n            window.location.origin +\r\n            \"/#/lyric?songId=\" +\r\n            this.id + \"】与我一起聆听！\"\r\n        );\r\n      } else {\r\n        this.notify(\"当前未选择音乐。\", \"error\");\r\n      }\r\n    },\r\n    copyToClip(content) {\r\n      var aux = document.createElement(\"input\");\r\n      aux.setAttribute(\"value\", content);\r\n      document.body.appendChild(aux);\r\n      aux.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(aux);\r\n      this.notify(\"您已成功获取音乐链接，快去粘贴分享吧。\", \"success\");\r\n\r\n      //   navigator.clipboard.writeText(content).then(() => {\r\n      //     this.notify(\"您已成功获取音乐链接，快去粘贴分享吧。\", \"success\");\r\n      //   });\r\n    },\r\n    //提示信息\r\n    notify(title, type) {\r\n      this.$notify({\r\n        title: title,\r\n        type: type,\r\n      });\r\n    },\r\n    //控制音乐播放、暂停\r\n    togglePlay() {\r\n      if (this.isPlay) {\r\n        this.$store.commit(\"setIsPlay\", false);\r\n      } else {\r\n        this.$store.commit(\"setIsPlay\", true);\r\n      }\r\n    },\r\n    //解析时间\r\n    formatSeconds(value) {\r\n      let theTime = parseInt(value);\r\n      let result = \"\"; //返回值\r\n      let hour = parseInt(theTime / 3600); //小时\r\n      let minute = parseInt((theTime / 60) % 60); //分钟\r\n      let second = parseInt(theTime % 60); //秒\r\n      if (hour > 0) {\r\n        if (hour < 10) {\r\n          result = \"0\" + hour + \":\";\r\n        } else {\r\n          result = hour + \":\";\r\n        }\r\n      }\r\n      if (minute > 0) {\r\n        if (minute < 10) {\r\n          result += \"0\" + minute + \":\";\r\n        } else {\r\n          result += minute + \":\";\r\n        }\r\n      } else {\r\n        result += \"00:\";\r\n      }\r\n      if (second > 0) {\r\n        if (second < 10) {\r\n          result += \"0\" + second;\r\n        } else {\r\n          result += second;\r\n        }\r\n      } else {\r\n        result += \"00\";\r\n      }\r\n      return result;\r\n    },\r\n    //拖拽开始\r\n    mousedown(e) {\r\n      this.mouseStartX = e.clientX;\r\n      this.tag = true;\r\n    },\r\n    //拖拽结束\r\n    mouseup() {\r\n      this.tag = false;\r\n    },\r\n    //拖拽中\r\n    mousemove(e) {\r\n      if (!this.duration) {\r\n        return false;\r\n      }\r\n      if (this.tag) {\r\n        let movementX = e.clientX - this.mouseStartX; //点点移动的距离\r\n        let curLength = this.$refs.curProgress.getBoundingClientRect().width;\r\n        let newPercent = ((movementX + curLength) / this.progressLength) * 100;\r\n        if (newPercent > 100) {\r\n          newPercent = 100;\r\n        }\r\n        this.curLength = newPercent;\r\n        this.mouseStartX = e.clientX;\r\n        this.changeTime(newPercent);\r\n      }\r\n    },\r\n    //更改歌曲进度\r\n    changeTime(percent) {\r\n      let newCurTime = percent * 0.01 * this.duration;\r\n      this.$store.commit(\"setChangeTime\", newCurTime);\r\n    },\r\n    //点击播放条切换播放进度\r\n    updatemove(e) {\r\n      if (!this.tag) {\r\n        //进度条的左侧坐标\r\n        let curLength = this.$refs.bg.offsetLeft;\r\n        let newPercent = ((e.clientX - curLength) / this.progressLength) * 100;\r\n        if (newPercent > 100) {\r\n          newPercent = 100;\r\n        } else if (newPercent < 0) {\r\n          newPercent = 0;\r\n        }\r\n        this.curLength = newPercent;\r\n        this.changeTime(newPercent);\r\n      }\r\n    },\r\n    //显示播放中的歌曲列表\r\n    changeAside() {\r\n      this.$store.commit(\"setShowAside\", true);\r\n    },\r\n    //上一首\r\n    prev() {\r\n      if (this.listIndex != -1 && this.listOfSongs.length > 1) {\r\n        //当前处于不可能状态或者只有只有一首音乐的时候不执行）\r\n        if (this.listIndex > 0) {\r\n          //不是第一首音乐\r\n          this.$store.commit(\"setListIndex\", this.listIndex - 1); //直接返回上一首\r\n        } else {\r\n          //当前是第一首音乐\r\n          this.$store.commit(\"setListIndex\", this.listOfSongs.length - 1); //切换到倒数第一首\r\n        }\r\n        this.toplay(this.listOfSongs[this.listIndex].url);\r\n      }\r\n    },\r\n    //下一首\r\n    next() {\r\n      if (this.listIndex != -1 && this.listOfSongs.length > 1) {\r\n        //当前处于不可能状态或者只有只有一首音乐的时候不执行）\r\n        if (this.listIndex < this.listOfSongs.length - 1) {\r\n          //不是最后一首音乐\r\n          this.$store.commit(\"setListIndex\", this.listIndex + 1); //直接返回下一首\r\n        } else {\r\n          //当前是最后一首音乐\r\n          this.$store.commit(\"setListIndex\", 0); //切换到第一首\r\n        }\r\n        this.toplay(this.listOfSongs[this.listIndex].url);\r\n      }\r\n    },\r\n    //播放音乐\r\n    toplay: function (url) {\r\n      if (url && url != this.url) {\r\n        this.$store.commit(\"setId\", this.listOfSongs[this.listIndex].id);\r\n        this.$store.commit(\"setUrl\", this.$store.state.configure.HOST + url);\r\n        this.$store.commit(\r\n          \"setPicUrl\",\r\n          this.$store.state.configure.HOST +\r\n            this.listOfSongs[this.listIndex].pic\r\n        );\r\n        this.$store.commit(\r\n          \"setTitle\",\r\n          this.replaceFName(this.listOfSongs[this.listIndex].name)\r\n        );\r\n        this.$store.commit(\r\n          \"setArtist\",\r\n          this.replaceLName(this.listOfSongs[this.listIndex].name)\r\n        );\r\n        this.$store.commit(\r\n          \"setLyric\",\r\n          this.parseLyric(this.listOfSongs[this.listIndex].lyric)\r\n        );\r\n        this.$store.commit(\"setIsActive\", false);\r\n        if (this.loginIn) {\r\n          getCollectOfUserId(this.userId).then((res) => {\r\n            for (let item of res) {\r\n              if (item.songId == id) {\r\n                this.$store.commit(\"setIsActive\", true);\r\n                break;\r\n              }\r\n            }\r\n          });\r\n        }\r\n      }\r\n    },\r\n    //获取名字前半部分--歌手名\r\n    replaceLName(str) {\r\n      let arr = str.split(\"-\");\r\n      return arr[0];\r\n    },\r\n    //获取名字后半部分--歌名\r\n    replaceFName(str) {\r\n      let arr = str.split(\"-\");\r\n      return arr[1];\r\n    },\r\n    //解析歌词\r\n    parseLyric(text) {\r\n      let lines = text.split(\"\\n\"); //将歌词按行分解成数组\r\n      let pattern = /\\[\\d{2}:\\d{2}.(\\d{3}|\\d{2})\\]/g; //时间格式的正则表达式\r\n      let result = []; //返回值\r\n      //对于歌词格式不对的直接返回\r\n      if (!/\\[.+\\]/.test(text)) {\r\n        return [[0, text]];\r\n      }\r\n      //去掉前面格式不正确的行\r\n      while (!pattern.test(lines[0])) {\r\n        lines = lines.slice(1);\r\n      }\r\n      //遍历每一行，形成一个每行带着俩元素的数组，第一个元素是以秒为计算单位的时间，第二个元素是歌词\r\n      for (let item of lines) {\r\n        let time = item.match(pattern); //存前面的时间段\r\n        let value = item.replace(pattern, \"\"); //存后面的歌词\r\n        for (let item1 of time) {\r\n          let t = item1.slice(1, -1).split(\":\"); //取出时间，换算成数组\r\n          if (value != \"\") {\r\n            result.push([parseInt(t[0], 10) * 60 + parseFloat(t[1]), value]);\r\n          }\r\n        }\r\n      }\r\n      //按照第一个元素--时间--排序\r\n      result.sort(function (a, b) {\r\n        return a[0] - b[0];\r\n      });\r\n      return result;\r\n    },\r\n    //转向歌词页面\r\n    toLyric() {\r\n      this.$router.push({ path: `/lyric` });\r\n    },\r\n    //下载音乐\r\n    download() {\r\n      download(this.url)\r\n        .then((res) => {\r\n          let content = res.data;\r\n          let eleLink = document.createElement(\"a\");\r\n          eleLink.download = `${this.artist}-${this.title}.mp3`;\r\n          eleLink.style.display = \"none\";\r\n          //把字符内容转换成blob地址\r\n          let blob = new Blob([content]);\r\n          eleLink.href = URL.createObjectURL(blob);\r\n          //把链接地址加到document里\r\n          document.body.appendChild(eleLink);\r\n          //触发点击\r\n          eleLink.click();\r\n          //然后移除掉这个新加的控件\r\n          document.body.removeChild(eleLink);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    //收藏\r\n    collection() {\r\n      if (this.loginIn) {\r\n        var params = new URLSearchParams();\r\n        params.append(\"userId\", this.userId);\r\n        params.append(\"type\", 0);\r\n        params.append(\"songId\", this.id);\r\n        setCollect(params).then((res) => {\r\n          if (res.code == 1) {\r\n            this.$store.commit(\"setIsActive\", true);\r\n            this.notify(\"收藏成功\", \"success\");\r\n          } else if (res.code == 2) {\r\n            this.notify(\"已收藏\", \"warning\");\r\n          } else {\r\n            this.notify(\"收藏失败\", \"error\");\r\n          }\r\n        });\r\n      } else {\r\n        this.notify(\"请先登录\", \"warning\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style  lang=\"scss\" scoped>\r\n@import \"../assets/css/play-bar.scss\";\r\n</style>\r\n"]}]}